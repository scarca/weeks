var run=function(){retable(90,52)},executionCount=0,retable=function(e,t){if(0==!executionCount){table=document.getElementById("maintable");for(var r=table.rows.length-1;r>=0;r--)table.deleteRow(r);for(var r=0;e-1>r;r++){console.log("Adding",r,e);for(var a=table.insertRow(r),n=0;52>n;n++){var o=a.insertCell(n);o.className="week "}a.className="year"}for(var a=table.insertRow(e-1),n=0;t>n;n++){var o=a.insertCell(n);o.className="week "}}executionCount++},assess=function(){null!=curr&&curr.remove("active");var e=document.querySelector('input[name="gender"]:checked').value;0==e?retable(84,Math.round(15.6)):1==e&&retable(86,Math.round(31.2));var t=new Date(document.getElementById("date").value),r=new Date,a=Math.round((r-t)/6048e5),n=Math.floor(a/52);if(0>n)return alert("This date is invalid"),!1;var o=a%52;curr=table.rows[n].cells[o].classList,curr.add("active")};document.getElementById("date").onkeypress=function(e){e||(e=window.event);var t=e.keyCode||e.which;return"13"==t?(assess(),!1):void 0},document.getElementById("gobutton").onclick=assess,curr=null,run();
